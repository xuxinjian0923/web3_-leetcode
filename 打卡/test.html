<!DOCTYPE html>
<html lang="ch">
<head>
    <title>单例测试</title>
</head>
<body>
<script>
    // 模拟模块化的 auth
    const auth = (function() {
        const handler = (error) => {
            console.log('处理错误');
        };
        handler.active = false;
        return handler;
    })();

    // 添加两个按钮
    const btn1 = document.createElement('button');
    btn1.textContent = '查看状态';
    btn1.onclick = function() {
        console.log('当前 auth.active:', auth.active);
    };

    const btn2 = document.createElement('button');
    btn2.textContent = '修改状态';
    btn2.onclick = function() {
        auth.active = true;
        console.log('修改后 auth.active:', auth.active);
    };

    document.body.appendChild(btn1);
    document.body.appendChild(btn2);
</script>
</body>
</html>
